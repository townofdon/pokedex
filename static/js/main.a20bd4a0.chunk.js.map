{"version":3,"sources":["redux/constants/page.js","redux/actions/page.js","components/pokemon.js","components/search.js","components/page.js","containers/page.js","redux/reducers/page.js","redux/reducers/index.js","index.js","redux/store/configure-store.js"],"names":["GET_POKEMONS_REQUEST","GET_POKEMONS_SUCCESS","GET_POKEMONS_FAIL","SET_POKEMONS","FILTER_POKEMONS","filterPokemons","searchString","arguments","length","undefined","dispatch","getState","displayedPokemons","page","pokemons","filter","pokemon","name","toLowerCase","includes","type","payload","Pokemon","this","props","react_default","a","createElement","className","style","backgroundImage","concat","id","PureComponent","Search","_ref","onChange","placeholder","autoFocus","Page","getPokemons","event","currentTarget","value","_this$props","isFetched","error","map","key","components_pokemon","search","handleSearch","bind","Component","mapDispatchToProps","fetch","then","response","ok","json","Error","status","statusText","data","results","url","substring","charAt","toUpperCase","slice","setPokemons","catch","message","pageActions","connect","state","_state$page","initialState","combineReducers","action","Object","objectSpread","store","middlewares","thunkMiddleware","composeEnhancers","compose","createStore","rootReducer","applyMiddleware","apply","configureStore","render","es","containers_page","document","getElementById"],"mappings":"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","file":"static/js/main.a20bd4a0.chunk.js","sourcesContent":["export const GET_POKEMONS_REQUEST = 'GET_POKEMONS_REQUEST'\nexport const GET_POKEMONS_SUCCESS = 'GET_POKEMONS_SUCCESS'\nexport const GET_POKEMONS_FAIL = 'GET_POKEMONS_FAIL'\nexport const SET_POKEMONS = 'SET_POKEMONS'\nexport const FILTER_POKEMONS = 'FILTER_POKEMONS'\n","import {\n  GET_POKEMONS_REQUEST,\n  GET_POKEMONS_SUCCESS,\n  GET_POKEMONS_FAIL,\n  SET_POKEMONS,\n  FILTER_POKEMONS\n} from '../constants/page'\n\nfunction setPokemons(data) {\n  const pokemons = data.results.map(pokemon => {\n    let { url } = pokemon\n    pokemon.id = url.substring(34, url.length - 1)\n    pokemon.name = pokemon.name.charAt(0).toUpperCase() + pokemon.name.slice(1)\n    return pokemon\n  })\n\n  return {\n    type: SET_POKEMONS,\n    payload: pokemons\n  }\n}\n\nexport function getPokemons() {\n  return dispatch => {\n    dispatch({\n      type: GET_POKEMONS_REQUEST\n    })\n\n    return fetch(`https://pokeapi.co/api/v2/pokemon/?limit=784`)\n      .then(response => {\n        if (response.ok) {\n          return response.json()\n        }\n\n        throw new Error(`${response.status}: ${response.statusText}`)\n      })\n      .then(data => {\n        dispatch({\n          type: GET_POKEMONS_SUCCESS\n        })\n        dispatch(setPokemons(data))\n        dispatch(filterPokemons())\n      })\n      .catch(error => {\n        dispatch({\n          type: GET_POKEMONS_FAIL,\n          payload: error.message\n        })\n      })\n  }\n}\n\nexport function filterPokemons(searchString = '') {\n  return (dispatch, getState) => {\n    const displayedPokemons = getState().page.pokemons.filter(pokemon => {\n      return pokemon.name.toLowerCase().includes(searchString.toLowerCase())\n    })\n\n    dispatch({\n      type: FILTER_POKEMONS,\n      payload: displayedPokemons\n    })\n  }\n}\n","import React, { PureComponent } from 'react'\n\nclass Pokemon extends PureComponent {\n  render() {\n    const { pokemon } = this.props\n\n    return (\n      <div className=\"pokemon\">\n        <button\n          type=\"button\"\n          className=\"pokemon__sprite\"\n          style={{\n            backgroundImage: `url(${`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${\n              pokemon.id\n            }.png`})`\n          }}\n        />\n        <p className=\"pokemon__name\">{pokemon.name}</p>\n      </div>\n    )\n  }\n}\n\nexport default Pokemon\n","import React from 'react'\n\nconst Search = ({ onChange }) => (\n  <input\n    type=\"text\"\n    onChange={onChange}\n    placeholder=\"Enter pokemon name...\"\n    autoFocus\n  />\n)\n\nexport default Search\n","import React, { Component } from 'react'\nimport Pokemon from '../components/pokemon'\nimport Search from '../components/search'\n\nclass Page extends Component {\n  componentDidMount() {\n    this.props.getPokemons()\n  }\n\n  handleSearch(event) {\n    this.props.filterPokemons(event.currentTarget.value)\n  }\n\n  render() {\n    let { displayedPokemons, isFetched, error } = this.props\n\n    let pokemons = displayedPokemons.map(pokemon => {\n      return (\n        <li className=\"pokemons__item\" key={pokemon.id}>\n          <Pokemon pokemon={pokemon} />\n        </li>\n      )\n    })\n\n    return (\n      <div className=\"page\">\n        {error && <div className=\"page__error\">{error}</div>}\n        <div className=\"page__search\">\n          <Search onChange={this.handleSearch.bind(this)} />\n        </div>\n        {isFetched ? (\n          <p>Loading...</p>\n        ) : (\n          <ul className=\"pokemons\">{pokemons}</ul>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default Page\n","import { connect } from 'react-redux'\nimport * as pageActions from '../redux/actions/page'\nimport Page from '../components/page'\n\nfunction mapStateToProps(state) {\n  const { displayedPokemons, isFetched, error } = state.page\n\n  return {\n    displayedPokemons,\n    isFetched,\n    error\n  }\n}\n\nconst mapDispatchToProps = {\n  getPokemons: pageActions.getPokemons,\n  filterPokemons: pageActions.filterPokemons\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Page)\n","import {\n  GET_POKEMONS_REQUEST,\n  GET_POKEMONS_SUCCESS,\n  GET_POKEMONS_FAIL,\n  SET_POKEMONS,\n  FILTER_POKEMONS\n} from '../constants/page'\n\nconst initialState = {\n  isFetched: false,\n  error: null,\n  pokemons: [],\n  displayedPokemons: []\n}\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case GET_POKEMONS_REQUEST:\n      return {\n        ...state,\n        isFetched: true\n      }\n\n    case GET_POKEMONS_SUCCESS:\n      return {\n        ...state,\n        isFetched: false\n      }\n\n    case GET_POKEMONS_FAIL:\n      return {\n        ...state,\n        isFetched: false,\n        error: action.payload\n      }\n\n    case SET_POKEMONS:\n      return {\n        ...state,\n        pokemons: action.payload\n      }\n\n    case FILTER_POKEMONS:\n      return {\n        ...state,\n        displayedPokemons: action.payload\n      }\n\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport page from './page'\n\nexport default combineReducers({\n  page\n})\n","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\nimport Page from './containers/page'\nimport './style/main.css'\nimport configureStore from './redux/store/configure-store'\n\nconst store = configureStore()\n\nrender(\n  <Provider store={store}>\n    <Page />\n  </Provider>,\n  document.getElementById('root')\n)\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunkMiddleware from 'redux-thunk'\nimport { createLogger } from 'redux-logger'\nimport rootReducer from '../reducers'\n\nexport default function configureStore(initialState = {}) {\n  const middlewares = [thunkMiddleware]\n\n  let composeEnhancers = compose\n\n  if (process.env.NODE_ENV === 'development') {\n    if ('__REDUX_DEVTOOLS_EXTENSION_COMPOSE__' in window) {\n      composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    }\n\n    const loggerMiddleware = createLogger()\n    middlewares.push(loggerMiddleware)\n  }\n\n  return createStore(\n    rootReducer,\n    initialState,\n    composeEnhancers(applyMiddleware(...middlewares))\n  )\n}\n"],"sourceRoot":""}